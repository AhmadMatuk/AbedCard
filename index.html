<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#4B3850">
    
    <title>Student Card</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
        }

        body {
            background-color: #F5F5F5;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding-bottom: env(safe-area-inset-bottom);
        }

        /* --- TOP BAR --- */
        .top-bar {
            width: 100%;
            height: 100px; 
            /* MODIFIED: Darker purple to match your screenshot */
            background-color: #4B3850; 
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 10;
            padding-top: 45px;
            padding-top: max(45px, env(safe-area-inset-top));

            /* MODIFIED: This is the "line under the upper bar" */
            /* Stronger shadow to create the dark line effect */
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.4);
        }

        .top-bar::before {
            content: '';
            position: absolute;
            top: -100vh; 
            left: 0;
            width: 100%;
            height: 100vh; 
            background-color: #4B3850; /* Match top bar color */
            z-index: -1; 
        }

        .top-bar-title {
            color: white;
            font-size: 19px;
            font-weight: 500;
        }

        .back-icon {
            position: absolute;
            left: 20px;
            top: max(55px, calc(env(safe-area-inset-top) + 10px));
            color: white;
            font-size: 26px;
            cursor: pointer;
            font-weight: 300;
        }

        .lang-text {
            position: absolute;
            right: 20px;
            top: max(60px, calc(env(safe-area-inset-top) + 15px));
            color: white;
            font-size: 18px;
            font-weight: 400;
            cursor: pointer;
        }

        /* --- CARD CONTAINER --- */
        .card-container {
            width: 90%;
            max-width: 380px;
            /* MODIFIED: Removed white background */
            /* MODIFIED: Added the SPECIAL GRADIENT (Left: Lighter, Right: Darker) */
            background: linear-gradient(to right, #568E86, #3E656B);
            
            border-radius: 20px;
            overflow: hidden;
            /* MODIFIED: Adjusted shadow for depth */
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 10px 15px -5px rgba(0, 0, 0, 0.3);
            margin-top: 25px;
            position: relative;
        }

        /* --- HEADER (Now Transparent) --- */
        .header-section {
            /* MODIFIED: Removed Green background so gradient shows */
            background-color: transparent; 
            height: 85px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 5;
            /* Optional: kept shadow or removed depending on preference. I reduced it to blend better */
            box-shadow: none; 
        }

        .uni-logo-white {
            height: 48px;
            filter: brightness(0) invert(1);
        }

        /* --- BODY (Now Transparent) --- */
        .body-section {
            /* MODIFIED: Removed Purple background so gradient shows */
            background-color: transparent; 
            padding: 24px;
            position: relative;
            height: 295px;
            z-index: 1;
        }

        .label {
            color: #FFFFFF; 
            font-size: 13px;
            margin-bottom: 4px;
            font-weight: 400;
            opacity: 0.8; /* Slightly lowered opacity for better contrast against gradient */
        }

        .value-name {
            color: white;
            font-size: 19px; 
            font-weight: 500; /* Increased weight slightly for readability on gradient */
            margin-bottom: 18px;
            letter-spacing: 0.3px;
        }

        .value-inst {
            color: white;
            font-size: 17px;
            line-height: 1.3;
            font-weight: 400;
            margin-bottom: 18px;
        }

        .value-id {
            color: white;
            font-size: 18px;
            font-weight: 400;
            letter-spacing: 0.5px;
        }

        /* Profile Photo */
        .photo-container {
            position: absolute;
            top: 24px;
            right: 24px;
            width: 115px;
            height: 145px;
            box-shadow: 0 3px 6px rgba(0,0,0,0.3);
            background-color: #ddd; /* Placeholder color if img fails */
        }

        .profile-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 2px;
        }

        /* Year Box */
        .year-box {
            position: absolute;
            top: 185px;
            right: 24px;
            width: 115px;
            border: 2px solid white;
            padding: 5px 0;
            text-align: center;
        }

        .year-text-hebrew {
            color: white;
            font-size: 15px;
            font-weight: 700;
            margin-bottom: 2px;
        }

        .year-text-english {
            color: white;
            font-size: 13px;
            font-weight: 500;
        }

        /* Union Logo */
        .union-logo {
            position: absolute;
            bottom: 25px;
            left: 24px;
            height: 28px;
            width: auto;
        }

        /* --- FOOTER (Barcode/QR) - Kept White --- */
        .footer-section {
            background-color: white;
            padding: 15px 20px;
            height: 140px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .nav-arrow {
            color: #5a5a5a;
            font-size: 32px;
            font-weight: 700;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            opacity: 0.7;
            user-select: none;
            z-index: 10;
            padding: 20px; 
        }
        
        .arrow-left { left: 5px; }
        .arrow-right { right: 5px; }

        /* CONTENT VIEWS (Barcode vs QR) */
        .view-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        /* Barcode Styles */
        .barcode {
            height: 55px;
            width: 230px;
            background-image: linear-gradient(90deg, 
                black 2px, transparent 2px, 
                black 4px, transparent 4px, 
                black 8px, transparent 8px,
                black 9px, transparent 9px,
                black 12px, transparent 12px,
                black 15px, transparent 15px,
                black 19px, transparent 19px,
                black 22px, transparent 22px,
                black 24px, transparent 24px);
            background-size: 26px 100%;
            margin-bottom: 8px;
        }

        .id-subtext {
            color: black;
            font-size: 14px;
            letter-spacing: 2px;
            font-weight: 400;
            font-family: monospace;
        }

        /* QR Code Styles */
        .qr-image {
            height: 110px; 
            width: 110px;
            object-fit: contain;
        }

        .hidden {
            display: none !important;
        }

        /* --- CLOCK & ANIMATION --- */
        .live-clock-container {
            margin-top: 35px;
            text-align: center;
        }

        .pagination {
            display: flex;
            gap: 20px;
            color: #4F364C;
            font-weight: 700;
            font-size: 22px;
            justify-content: center;
            margin-top: 15px;
            margin-bottom: 12px;
            height: 28px; 
            overflow: hidden; 
        }

        .colon {
            margin-top: 2px;
        }

        .digit-wrapper {
            display: flex;
            flex-direction: column;
            text-align: center;
            transition: transform 0.4s cubic-bezier(0.4, 0.0, 0.2, 1); 
        }

        .digit {
            height: 28px; 
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .live-date {
            color: #4F364C;
            font-size: 26px;
            font-weight: 700;
            letter-spacing: 1px;
            font-family: "Courier New", Courier, monospace;
        }
        
    </style>
</head>
<body>

    <div class="top-bar">
        <div class="back-icon">&#8592;</div>
        <div class="top-bar-title">Student Card</div>
        <div class="lang-text">He</div>
    </div>

    <div class="card-container">
        
        <div class="header-section">
            <img src="logo_main.png" class="uni-logo-white" alt="Hebrew U Logo">
        </div>

        <div class="body-section">
            <div class="label">Student Name</div>
            <div class="value-name">Abdelrahman Matuk</div>

            <div class="label">Academic Institution</div>
            <div class="value-inst">The Hebrew<br>University of<br>Jerusalem</div>

            <div class="label">ID</div>
            <div class="value-id">213979057</div>

            <div class="photo-container">
                <img src="photo.JPG" class="profile-img" alt="Student Photo">
            </div>

            <div class="year-box">
                <div class="year-text-hebrew">תשפ"ו</div>
                <div class="year-text-english">2025-2026</div>
            </div>

            <img src="logo_union.png" class="union-logo" alt="Student Union Logo">
        </div>

        <div class="footer-section">
            <div class="nav-arrow arrow-left" onclick="toggleView()">&#8249;</div>
            
            <div id="view-barcode" class="view-content">
                <div class="barcode"></div>
                <div class="id-subtext">213979057</div>
            </div>

            <div id="view-qrcode" class="view-content hidden">
                <a href="https://www.mobitti.com/web_client/mobile-app/studentinfo.html?token=c00451d2-7676-4fcf-b491-00b3f035244b&inapp=0&lang=en&theme=75&isTestServer=0" target="_blank">
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://www.mobitti.com/web_client/mobile-app/studentinfo.html?token=c00451d2-7676-4fcf-b491-00b3f035244b&inapp=0&lang=en&theme=75&isTestServer=0" class="qr-image" alt="QR Code">
                </a>
            </div>

            <div class="nav-arrow arrow-right" onclick="toggleView()">&#8250;</div>
        </div>

    </div>

    <div class="pagination">
        <div class="digit-wrapper" id="d1"><div class="digit">0</div></div>
        <div class="digit-wrapper" id="d2"><div class="digit">0</div></div>
        <span class="colon">:</span>
        <div class="digit-wrapper" id="d3"><div class="digit">0</div></div>
        <div class="digit-wrapper" id="d4"><div class="digit">0</div></div>
        <span class="colon">:</span>
        <div class="digit-wrapper" id="d5"><div class="digit">0</div></div>
        <div class="digit-wrapper" id="d6"><div class="digit">0</div></div>
    </div>

    <div class="live-clock-container">
        <div class="live-date" id="dateDisplay">09-01-2026</div>
    </div>

    <script>
        // --- TOGGLE LOGIC ---
        function toggleView() {
            const barcodeView = document.getElementById('view-barcode');
            const qrcodeView = document.getElementById('view-qrcode');
            
            if (barcodeView.classList.contains('hidden')) {
                barcodeView.classList.remove('hidden');
                qrcodeView.classList.add('hidden');
            } else {
                barcodeView.classList.add('hidden');
                qrcodeView.classList.remove('hidden');
            }
        }

        // --- ANIMATED CLOCK LOGIC ---
        let oldDigits = ['0','0','0','0','0','0'];

        function updateClock() {
            const now = new Date();
            
            const h = String(now.getHours()).padStart(2, '0');
            const m = String(now.getMinutes()).padStart(2, '0');
            const s = String(now.getSeconds()).padStart(2, '0');
            
            const newDigits = [h[0], h[1], m[0], m[1], s[0], s[1]];
            
            for (let i = 0; i < 6; i++) {
                if (newDigits[i] !== oldDigits[i]) {
                    animateDigit(i + 1, newDigits[i]);
                }
            }
            
            oldDigits = newDigits;

            const day = String(now.getDate()).padStart(2, '0');
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const year = now.getFullYear();
            document.getElementById('dateDisplay').innerText = `${day}-${month}-${year}`;
        }

        function animateDigit(idIndex, newValue) {
            const wrapper = document.getElementById(`d${idIndex}`);
            const newDiv = document.createElement('div');
            newDiv.className = 'digit';
            newDiv.innerText = newValue;
            wrapper.appendChild(newDiv);
            wrapper.style.transform = 'translateY(-28px)';
            setTimeout(() => {
                wrapper.style.transition = 'none';
                wrapper.innerHTML = '';
                wrapper.appendChild(newDiv);
                wrapper.style.transform = 'translateY(0)';
                void wrapper.offsetWidth; 
                wrapper.style.transition = 'transform 0.4s cubic-bezier(0.4, 0.0, 0.2, 1)';
            }, 400); 
        }

        updateClock();
        setInterval(updateClock, 1000);
    </script>

</body>
</html>
